{"version":3,"sources":["api/api.js","actions/actionsAuthentication.js","constants/constants.js","actions/actionsAccount.js","actions/actionsModals.js","actions/actionsMovies.js","components/Header/Login/LoginForm.jsx","components/Header/Login/Login.jsx","components/Header/HeaderMenu.jsx","components/Header/User.jsx","components/Header/Header.jsx","components/Filters/SortBy.jsx","components/UIComponents/UILabele.jsx","components/UIComponents/UISelect.jsx","components/Filters/PrimaryRealise.jsx","components/HOC/FilterPaginatorHOC.jsx","components/Filters/Paginator.jsx","components/HOC/GenresHOC.jsx","components/UIComponents/UICheckbox.jsx","components/Filters/Genres/Genres.jsx","components/Filters/Filters.jsx","components/Loader.jsx","components/HOC/MoviesHOC.jsx","components/Movies/Markers/LikeIcon.jsx","components/Movies/Markers/WatchIcon.jsx","components/HOC/MarkHOC.jsx","components/Movies/MovieItem.jsx","components/HOC/AppConsumerHOC.jsx","components/Movies/MoviesList/MoviesList.jsx","components/pages/MoviesPage/MoviesPage.jsx","components/pages/MoviePage/RatingBtn.jsx","components/pages/MoviePage/MovieImages.jsx","components/pages/MoviePage/SimilarMovies.jsx","components/HOC/SimilarMoviesPaginatorHOC.jsx","components/pages/MoviePage/MovieDetails.jsx","components/pages/MoviePage/ActorsList.jsx","components/pages/MoviePage/MovieTabs.jsx","components/pages/MoviePage/MoviePage.jsx","components/pages/AcountPage/AccountFavoritesPage.jsx","components/pages/AcountPage/AccountWatchlistPage.jsx","fortawesome/fortawesome.js","components/App.jsx","reducers/reducerAuthentification.js","reducers/reducersMovies.js","reducers/reducersModals.js","reducers/reducerAccount.js","reducers/reducers.js","store/store.js","index.js"],"names":["API_URL","API_KEY_3","fetchApi","url","options","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","_options$params","params","queryStringParams","Object","objectSpread","api_key","language","concat","queryString","stringify","mode","headers","Content-type","_options$params2","_options$body","body","method","JSON","_options$params3","_options$body2","actionCreatorGetAccount","payload","dispatch","session_id","get","user","actionCreatorUpdateAuth","_ref","type","actionCreatorLogOut","actionCreatorGetFavorite","user_id","actionCreatorUpdateFavorite","actionCreatorGetWatchlist","_ref2","actionCreatorUpdateWatchList","results","actionCreatorToggleLoginForm","actionCreatorHideLoginForm","actionCreatorChangePage","actionCreatorGetMovies","filters","page","sort_by","primary_release_year","with_genres","join","actionCreatorUpdateMovies","actionCreatorUpdateFilters","actionCreatorResetFilters","LoginForm","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","username","password","repeatPassword","errors","submitting","onChange","e","name","target","value","setState","prevState","_objectSpread2","defineProperty","handleBlur","event","validateFields","onSubmit","console","log","props","post","request_token","updateAuth","base","status_message","onLogin","preventDefault","keys","inherits","createClass","key","hideLoginForm","_this$state","react_default","a","createElement","className","htmlFor","id","placeholder","onBlur","onClick","disabled","React","Component","connect","bindActionCreators","Login","_this$props","toggleLoginForm","showLoginForm","reactstrap_es","isOpen","toggle","Login_LoginForm","modals","HeaderMenu","logOut","closeMenu","onLogOut","delete","_ref$success","success","Link","to","store","authentication","User","showMenu","setWrapperRef","bind","assertThisInitialized","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","contains","_this2","ref","width","src","avatar","gravatar","hash","alt","Header_HeaderMenu","Header","Header_User","Header_Login_Login","SortBy","updateFilters","map","option","label","PureComponent","defaultProps","movies","actions","UILabele","children","UISelect","nextProps","nextState","_","isEqual","UILabele_UILabele","PrimaryRealise","UISelect_UISelect","image","mapStateToProps","total_pages","mapDispatchToProps","onChangePage","Paginator","role","aria-label","resetFilters","UICheckBox","changeHandler","checked","labelText","Genres","allGenres","genre","UICheckbox","includes","String","displayName","GenresHOC","GenresContainer","currentId","filter","toConsumableArray","genres","FilterPaginator","FilterPaginatorHOC","Filters","Filters_SortBy","Filters_PrimaryRealise","Filters_Genres_Genres","Loader","isFetching","getMovies","changePage","LikeIcon","marked","changeMark","index_es","icon","WatchIcon","findMovieInArr","arr","findIndex","movie","isAuth","watchlist","account","favorite","getFavorite","getWatchlist","HOC_MarkHOC","MarkHOC","initialState","media_type","media_id","fetchFavoritesMark","fetchWatchListMark","fetchMark","prevProps","MovieLike","MovieToWatch","AppConsumerHOC","AppContext","Consumer","context","assign","item","style","backdrop_path","poster_path","title","vote_average","MovieList","_ref$movies","_ref$col","col","Movies_MovieItem","MoviesContainer","_React$PureComponent","MoviesHOC","components_Loader","MoviesPage","Filters_Filters","RatingBtn","handleHover","index","hoverRating","onLeaveDropDown","rated","setRating","match","createStars","stars","_loop","i","push","onMouseEnter","color","dropdownRating","_this$props2","rating","_this3","_this$props3","queryStringParam","getAccountState","_this4","tag","dist_default","percentage","text","path","fill","initialAnimation","onMouseLeave","withRouter","MovieImages","backdrops","posters","SimilarMoviesPaginator","SimilarMoviesPaginatorHOC","SimilarMovies","total_results","MoviesList","MovieDetails","scope","release_date","runtime","original_language","production_countries","budget","revenue","production_companies","company","ActorsList","getActorsList","filteredActorsByImage","cast","profile_path","actor_gallery","actor","thumbnail","thumbnailWidth","thumbnailHeight","caption","character","Gallery_default","images","enableImageSelection","MovieTabs","NavLink","activeClassName","Switch","Route","component","MoviePage_MovieImages","MoviePage_SimilarMovies","MoviePage_MovieDetails","MoviePage_ActorsList","Like","MoviePage","overview","MoviePage_MovieToWatch","MoviePage_MovieLike","MoviePage_RatingBtn","MoviePage_MovieTabs","AccountFavoritesPage","Redirect","getFavorites","AccountWatchlistPage","library","add","fasFaHeart","farFaHeart","fasBookmark","farBookmark","fasStar","fasStarHalf","farStar","createContext","App","getAccount","BrowserRouter","components_Header_Header","exact","cookies","Cookies","reducerAuthentication","action","set","maxAge","remove","initialFilters","initialMoviesState","reducerMovies","reducerModals","reducerAccount","reducers","combineReducers","appMiddleWare","getState","next","_ref3","prevFilters","createStore","composeWithDevTools","applyMiddleware","window","ReactDOM","render","es","components_App","getElementById"],"mappings":"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","file":"static/js/main.49b8de5a.chunk.js","sourcesContent":["import queryString from \"query-string\";\r\n\r\nexport const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"942fe0c9aeb6728941df8e74f3fbce09\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NDJmZTBjOWFlYjY3Mjg5NDFkZjhlNzRmM2ZiY2UwOSIsInN1YiI6IjViOTk2ZmU5OTI1MTQxN2YwZjAwNDRjZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.DyQ5EAhU4gfsNyNTnPRqayFOn-SAy61d7iWwfWhOkkw\";\r\n\r\nexport const fetchApi = (url, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, options)\r\n      .then(response => {\r\n        if (response.status < 400) {\r\n          return response.json();\r\n        } else {\r\n          throw response;\r\n        }\r\n      })\r\n      .then(data => {\r\n        resolve(data);\r\n      })\r\n      .catch(response => {\r\n        response.json().then(error => {\r\n          reject(error);\r\n        });\r\n      });\r\n  });\r\n};\r\n\r\nexport default class CallApi {\r\n  static get(url, options = {}) {\r\n    const { params = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      language: \"ru-RU\",\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        }\r\n      }\r\n    );\r\n  }\r\n  static post(url, options = {}) {\r\n    const { params = {}, body = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      language: \"ru-RU\",\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n\r\n  static delete(url, options = {}) {\r\n    const { params = {}, body = {} } = options;\r\n    const queryStringParams = {\r\n      api_key: API_KEY_3,\r\n      language: \"ru-RU\",\r\n      ...params\r\n    };\r\n    return fetchApi(\r\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: \"Delete\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n      }\r\n    );\r\n  }\r\n}\r\n","import CallApi from \"../api/api\";\r\nimport * as constants from '../constants/constants'\r\n\r\nexport const actionCreatorGetAccount = payload => dispatch => {\r\n  const { session_id } = payload;\r\n  CallApi.get(\"/account\", {\r\n    params: {\r\n      session_id\r\n    }\r\n  }).then(user => {\r\n    dispatch(actionCreatorUpdateAuth({ user, session_id }));\r\n  });\r\n};\r\n\r\nexport const actionCreatorUpdateAuth = ({ user, session_id }) => {\r\n  return { type: constants.UPDATE_AUTH, payload: { user, session_id } };\r\n};\r\n\r\nexport const actionCreatorLogOut = () => {\r\n  return {\r\n    type: constants.LOG_OUT\r\n  };\r\n};\r\n","//movies\r\nexport const UPDATE_MOVIES = \"UPDATE_MOVIES\";\r\nexport const CHANGE_PAGE = \"CHANGE_PAGE\";\r\nexport const FETCHING_MOVIES = \"FETCHING_MOVIES\";\r\nexport const UPDATE_FILTERS = \"UPDATE_FILTERS\";\r\nexport const RESET_FILTERS = \"RESET_FILTERS\";\r\nexport const ERROR_GET_MOVIES = \"ERROR_GET_MOVIES\";\r\n\r\n\r\n//Authentication\r\nexport const UPDATE_AUTH = \"UPDATE_AUTH\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\n\r\n//Account\r\n\r\nexport const UPDATE_FAVORITE = \"UPDATE_FAVORITE\";\r\nexport const UPDATE_WATCHLIST = \"UPDATE_WATCHLIST\";\r\n\r\n\r\n\r\n","import CallApi from \"../api/api\";\r\nimport * as constants from '../constants/constants'\r\n\r\nexport const actionCreatorGetFavorite = ({\r\n  session_id,\r\n  user_id\r\n}) => dispatch => {\r\n  const queryStringParams = {\r\n    session_id\r\n  };\r\n  CallApi.get(`/account/${user_id}/favorite/movies`, {\r\n    params: queryStringParams\r\n  }).then(data => {\r\n    dispatch(actionCreatorUpdateFavorite(data));\r\n  });\r\n};\r\n\r\nexport const actionCreatorGetWatchlist = ({\r\n  session_id,\r\n  user_id\r\n}) => dispatch => {\r\n  const queryStringParams = {\r\n    session_id\r\n  };\r\n  CallApi.get(`/account/${user_id}/watchlist/movies`, {\r\n    params: queryStringParams\r\n  }).then(data => {\r\n    dispatch(actionCreatorUpdateWatchList(data));\r\n  });\r\n};\r\n\r\nexport const actionCreatorUpdateFavorite = data => {\r\n  return {\r\n    type: constants.UPDATE_FAVORITE,\r\n    payload: data.results\r\n  };\r\n};\r\n\r\nexport const actionCreatorUpdateWatchList = data => {\r\n  return {\r\n    type: constants.UPDATE_WATCHLIST,\r\n    payload: data.results\r\n  };\r\n};\r\n","export const actionCreatorToggleLoginForm = () => {\r\n  return {\r\n    type: \"TOGGLE_LOGIN_FORM\"\r\n  };\r\n};\r\n\r\nexport const actionCreatorHideLoginForm = () => {\r\n  return {\r\n    type: \"HIDE_LOGIN_FORM\"\r\n  };\r\n};\r\n\r\n","import CallApi from \"../api/api\";\r\n\r\nimport * as constants from \"../constants/constants\";\r\n\r\nexport const actionCreatorUpdateMovies = data => {\r\n  return {\r\n    type: constants.UPDATE_MOVIES,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const actionCreatorChangePage = payload => {\r\n  return {\r\n    type: constants.CHANGE_PAGE,\r\n    payload: payload\r\n  };\r\n};\r\n\r\nexport const actionCreatorGetMovies = (filters, page) => dispatch => {\r\n  const { sort_by, primary_release_year, with_genres } = filters;\r\n  const queryStringParams = {\r\n    sort_by,\r\n    language: \"ru-RU\",\r\n    page,\r\n    primary_release_year,\r\n    with_genres\r\n  };\r\n\r\n  if (with_genres)\r\n    queryStringParams.with_genres = with_genres.join(\",\");\r\n  dispatch({\r\n    type: constants.FETCHING_MOVIES\r\n  });\r\n\r\n  CallApi.get(`/discover/movie`, { params: queryStringParams })\r\n    .then(data => {\r\n      dispatch(actionCreatorUpdateMovies(data));\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: constants.ERROR_GET_MOVIES,\r\n        payload: error\r\n      });\r\n    });\r\n};\r\n\r\nexport const actionCreatorUpdateFilters = payload => {\r\n  return {\r\n    type: constants.UPDATE_FILTERS,\r\n    payload\r\n  };\r\n};\r\n\r\nexport const actionCreatorResetFilters = payload => {\r\n  return {\r\n    type: constants.RESET_FILTERS,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  actionCreatorHideLoginForm,\r\n  actionCreatorUpdateAuth\r\n} from \"../../../actions/actions\";\r\n\r\nexport class LoginForm extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n    errors: {},\r\n    submitting: false\r\n  };\r\n\r\n  onChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState(prevState => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        [name]: null,\r\n        base: null\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleBlur = event => {\r\n    const errors = this.validateFields();\r\n    const name = event.target.name;\r\n    if (errors[name]) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          [name]: errors[name]\r\n        }\r\n      }));\r\n    }\r\n  };\r\n\r\n  validateFields = () => {\r\n    const errors = {};\r\n    if (this.state.username === \"\") {\r\n      errors.username = \"Not empty\";\r\n    }\r\n\r\n    if (this.state.password !== this.state.repeatPassword) {\r\n      errors.repeatPassword = \"Password must be the same\";\r\n    }\r\n\r\n    if (this.state.password.length < 5) {\r\n      errors.password = \"Password must be at least 5 character\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  onSubmit = () => {\r\n    console.log(this.props);\r\n    this.setState({\r\n      submitting: true\r\n    });\r\n    let session_id = null;\r\n    CallApi.get(\"/authentication/token/new\")\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/token/validate_with_login\", {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token\r\n          }\r\n        });\r\n      })\r\n      .then(data => {\r\n        return CallApi.post(\"/authentication/session/new\", {\r\n          body: { request_token: data.request_token }\r\n        });\r\n      })\r\n      .then(data => {\r\n        session_id = data.session_id;\r\n        return CallApi.get(\"/account\", {\r\n          params: { session_id: data.session_id }\r\n        });\r\n      })\r\n      .then(user => {\r\n        this.setState(\r\n          {\r\n            submitting: false\r\n          },\r\n          () => {\r\n            this.props.updateAuth({ user, session_id });\r\n          }\r\n        );\r\n      })\r\n      .catch(error => {\r\n        console.log(\"error\", error);\r\n        this.setState({\r\n          submitting: false,\r\n          errors: {\r\n            base: error.status_message\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  onLogin = e => {\r\n    e.preventDefault();\r\n    const errors = this.validateFields();\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState(prevState => ({\r\n        errors: {\r\n          ...prevState.errors,\r\n          ...errors\r\n        }\r\n      }));\r\n    } else {\r\n      this.onSubmit();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.hideLoginForm();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      password,\r\n      repeatPassword,\r\n      errors,\r\n      submitting\r\n    } = this.state;\r\n    return (\r\n      <div className=\"form-login-container\">\r\n        <form className=\"form-login\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal text-center\">\r\n            Авторизация\r\n          </h1>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Пользователь</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"username\"\r\n              placeholder=\"Пользователь\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.username && (\r\n              <div className=\"invalid-feedback\">{errors.username}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              placeholder=\"Пароль\"\r\n              name=\"password\"\r\n              value={password}\r\n              onBlur={this.handleBlur}\r\n              onChange={this.onChange}\r\n            />\r\n            {errors.password && (\r\n              <div className=\"invalid-feedback\">{errors.password}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"repeatPassword\">Повторите пароль</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"repeatPassword\"\r\n              placeholder=\"Повторите пароль\"\r\n              name=\"repeatPassword\"\r\n              value={repeatPassword}\r\n              onChange={this.onChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            {errors.repeatPassword && (\r\n              <div className=\"invalid-feedback\">{errors.repeatPassword}</div>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.onLogin}\r\n            disabled={submitting}\r\n          >\r\n            Вход\r\n          </button>\r\n          {errors.base && (\r\n            <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateAuth: actionCreatorUpdateAuth,\r\n      hideLoginForm: actionCreatorHideLoginForm\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginForm);\r\n","import React, { Component } from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { actionCreatorToggleLoginForm } from \"../../../actions/actions\";\r\n\r\nclass Login extends Component {\r\n  render() {\r\n    const {toggleLoginForm, showLoginForm } = this.props;\r\n    return (\r\n      <div>\r\n        <button\r\n          className=\"btn btn-success\"\r\n          type=\"button\"\r\n          onClick={toggleLoginForm}\r\n        >\r\n          Login\r\n        </button>\r\n\r\n        <Modal\r\n          isOpen={showLoginForm}\r\n          toggle={toggleLoginForm}\r\n        >\r\n          <ModalBody>\r\n            <LoginForm />\r\n          </ModalBody>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    showLoginForm: state.modals.showLoginForm\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    toggleLoginForm: actionCreatorToggleLoginForm\r\n  }, dispatch);\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CallApi from \"../../api/api\";\r\nimport { actionCreatorLogOut } from \"./../../actions/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nclass HeaderMenu extends React.Component {\r\n  logOut = () => {\r\n    this.props.closeMenu();\r\n    const { session_id, onLogOut } = this.props;\r\n    CallApi.delete(\"/authentication/session?\", {\r\n      body: { session_id: session_id }\r\n    }).then(({ success = false }) => {\r\n      if (success) {\r\n        onLogOut();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {closeMenu} = this.props;\r\n    return (\r\n      <div className=\"dropdown-menu\">\r\n        <h6 className=\"dropdown-header\">Меню</h6>\r\n        <div className=\"dropdown-divider\" />\r\n        <span className=\"dropdown-item\" onClick={this.logOut}>\r\n          Выйти\r\n        </span>\r\n        <span className=\"dropdown-item\">\r\n          <Link to=\"/account/favorites\" onClick={closeMenu}>Избранные</Link>\r\n        </span>\r\n        <span className=\"dropdown-item\">\r\n          <Link to=\"/account/watchlist\" onClick={closeMenu}>К просмотру</Link>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    session_id: store.authentication.session_id\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({\r\n    onLogOut: actionCreatorLogOut\r\n  }, dispatch)\r\n };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderMenu);\r\n","import React from \"react\";\r\n// import { AppContext } from \"../App\";\r\nimport HeaderMenu from \"./HeaderMenu\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass User extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      showMenu: false\r\n    };\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  handleClickOutside(event) {\r\n    if (this.state.showMenu && this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      this.setState({\r\n        showMenu: false\r\n      });\r\n    }\r\n  }\r\n\r\n  closeMenu = () => {\r\n    this.setState({\r\n      showMenu: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { showMenu } = this.state;\r\n    return (\r\n      <div className=\"head-user\" ref={this.setWrapperRef}>\r\n        <img\r\n          width=\"40\"\r\n          className=\"rounded-circle\"\r\n          src={`https://secure.gravatar.com/avatar/${\r\n            user.avatar.gravatar.hash\r\n          }.jpg?s=64`}\r\n          alt=\"user avatar\"\r\n          onClick={() => {\r\n            this.setState({ showMenu: !this.state.showMenu });\r\n          }}\r\n        />\r\n        <div className=\"user-head__menu\">\r\n          {showMenu && <HeaderMenu closeMenu={this.closeMenu} />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  user: store.authentication.user,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(User);\r\n","import React from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport User from \"./User\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = ({ user }) => (\r\n  <nav className=\"navbar\">\r\n    <div className=\"container\">\r\n      <ul className=\"navbar-nav\">\r\n        <li className=\"nav-item active\">\r\n          <Link className=\"nav-link header__home-link\" to=\"/\">\r\n            Home\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n      {user ? <User /> : <Login />}\r\n    </div>\r\n  </nav>\r\n);\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as actions from \"../../actions/actions\";\r\n\r\nclass SortBy extends React.PureComponent {\r\n  static propTypes = {\r\n    // onChangeFilters: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: \"Популярные по убыванию\",\r\n        value: \"popularity.desc\"\r\n      },\r\n      {\r\n        label: \"Популярные по возростанию\",\r\n        value: \"popularity.asc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по возростанию\",\r\n        value: \"vote_average.asc\"\r\n      },\r\n      {\r\n        label: \"Рейтинг по убыванию\",\r\n        value: \"vote_average.desc\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  render() {\r\n    const { updateFilters, sort_by, options } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"sort_by\">Сортировать по:</label>\r\n        <select\r\n          className=\"form-control\"\r\n          id=\"sort_by\"\r\n          name=\"sort_by\"\r\n          value={sort_by}\r\n          onChange={(event) => updateFilters({[event.target.name]: event.target.value})}\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ movies }) => {\r\n  return {\r\n    sort_by: movies.filters.sort_by\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateFilters: actions.actionCreatorUpdateFilters,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SortBy);\r\n","import React from 'react';\r\n\r\nexport default class UILabele extends React.PureComponent {\r\n  render() {\r\n    const { id, children } = this.props;\r\n    return <label htmlFor={id}>{children()}</label>;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\nimport UILabel from './UILabele';\r\n\r\nexport default class UISelect extends React.Component {\r\n  // todo: hw\r\n  static propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return !_.isEqual(nextProps, this.props);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id, name, value, onChange, label,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <UILabel id={id}>{label}</UILabel>\r\n        <select\r\n          className=\"form-control\"\r\n          id={id}\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n        >\r\n          {this.props.children}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport UISelect from '../UIComponents/UISelect';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../actions/actions\";\r\n\r\nclass PrimaryRealise extends React.PureComponent {\r\n\r\n  static propTypes = {\r\n    updateFilters: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    options: [\r\n      {\r\n        label: 'Выберите год',\r\n        value: '0',\r\n        image: './lol.jpg',\r\n      },\r\n      {\r\n        label: '2018',\r\n        value: '2018',\r\n      },\r\n      {\r\n        label: '2005',\r\n        value: '2005',\r\n      },\r\n      {\r\n        label: '1991',\r\n        value: '1991',\r\n      },\r\n    ],\r\n  };\r\n\r\n  render() {\r\n    const { updateFilters, primary_release_year, options } = this.props;\r\n    return (\r\n      <UISelect\r\n        id={primary_release_year}\r\n        name=\"primary_release_year\"\r\n        value={primary_release_year}\r\n        onChange={(event) => updateFilters({[event.target.name]: event.target.value})}\r\n        label={() => <p>Год релиза:</p>}\r\n      >\r\n        {options.map(option => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n            {/* {option.image && <img src={option.image} />} */}\r\n          </option>\r\n        ))}\r\n      </UISelect>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ movies }) => {\r\n  return {\r\n    primary_release_year: movies.filters.primary_release_year\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      updateFilters: actions.actionCreatorUpdateFilters,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PrimaryRealise);\r\n","import React from 'react';\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../actions/actions\";\r\n\r\n\r\nconst mapStateToProps = ({ movies }) => {\r\n  return {\r\n    page: movies.page,\r\n    total_pages: movies.total_pages,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      onChangePage: actions.actionCreatorChangePage,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default Component =>  connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(class FilterPaginatorHOC extends React.Component {\r\n  render() {\r\n    return (<Component {...this.props}/>);\r\n  }\r\n})\r\n\r\n\r\n","import React from 'react';\r\n\r\nexport default class Paginator extends React.Component {\r\n  render() {\r\n    const { page, total_pages, onChangePage, mode } = this.props;\r\n    return (\r\n      <div className={`text-center ${mode === 'inline' ? 'd-flex justify-content-end' : ''}`}>\r\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            disabled={page === 1}\r\n            onClick={() => { onChangePage(page - 1); }}\r\n          >\r\n            Назад\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n            disabled={page === total_pages}\r\n            onClick={() => { onChangePage(page + 1); }}\r\n          >\r\n            Вперед\r\n          </button>\r\n        </div>\r\n        <p className={`mt-4 ${mode === 'inline' ? 'ml-4' : ''}`}>\r\n          <strong>{page}</strong>\r\n          {' '}\r\nof\r\n          {' '}\r\n          <strong>{total_pages}</strong>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport CallApi from \"../../api/api\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../actions/actions\";\r\n\r\nconst mapStateToProps = ({ movies }) => {\r\n  return {\r\n    with_genres: movies.filters.with_genres\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      onChangePage: actions.actionCreatorChangePage,\r\n      updateFilters: actions.actionCreatorUpdateFilters,\r\n      resetFilters: actions.actionCreatorResetFilters\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default Component =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class GenresContainer extends React.Component {\r\n      constructor(props) {\r\n        super();\r\n        this.state = {\r\n          allGenres: []\r\n        };\r\n      }\r\n\r\n      static propTypes = {\r\n        with_genres: PropTypes.array.isRequired,\r\n        updateFilters: PropTypes.func.isRequired\r\n      };\r\n\r\n      componentDidMount() {\r\n        CallApi.get(\"/genre/movie/list\").then(data => {\r\n          this.setState({\r\n            allGenres: data.genres\r\n          });\r\n        });\r\n      }\r\n\r\n      changeHandler = event => {\r\n        const { with_genres, updateFilters } = this.props;\r\n        const currentId = event.target.id;\r\n        let value = [];\r\n        if (with_genres.includes(currentId)) {\r\n          value = with_genres.filter(id => id !== currentId);\r\n        } else {\r\n          value = [...with_genres, currentId];\r\n        }\r\n        updateFilters({\r\n          with_genres: value\r\n        });\r\n      };\r\n\r\n      render() {\r\n        const { allGenres } = this.state;\r\n        const { with_genres } = this.props;\r\n        return (\r\n          <Component\r\n            onChange={this.changeHandler}\r\n            allGenres={allGenres}\r\n            with_genres={with_genres}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  );\r\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass UICheckBox extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checked: props.checked\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      checked: props.checked\n    };\n  }\n\n  changeHandler = event => {\n    this.setState(\n      {\n        checked: !this.state.checked\n      }\n    );\n    this.props.onChange(event);\n  };\n\n  render() {\n    const { id, labelText } = this.props;\n    return (\n      <div className=\"custom-control custom-checkbox\">\n        <input\n          type=\"checkbox\"\n          className=\"custom-control-input\"\n          id={id}\n          onChange={this.changeHandler}\n          checked={this.state.checked}\n        />\n        <label className=\"custom-control-label\" htmlFor={id}>\n          {labelText}\n        </label>\n      </div>\n    );\n  }\n}\n\nUICheckBox.propTypes = {\n  id: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  checked: PropTypes.bool.isRequired\n};\n\nexport default UICheckBox;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport GenresHOC from \"../../HOC/GenresHOC\";\r\nimport UICheckBox from \"../../UIComponents/UICheckbox\";\r\n\r\nconst Genres = ({ allGenres, onChange, with_genres }) => (\r\n  <div className=\"mb-4\">\r\n    <ul>\r\n      {allGenres.map(genre => (\r\n        <li key={genre.id}>\r\n          <UICheckBox\r\n            id={genre.id}\r\n            labelText={genre.name}\r\n            onChange={onChange}\r\n            checked={with_genres.includes(String(genre.id))}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nGenres.defaultProps = {\r\n  allGenres: [],\r\n  with_genres: []\r\n};\r\nGenres.propTypes = {\r\n  allGenres: PropTypes.array.isRequired,\r\n  with_genres: PropTypes.array.isRequired,\r\n  onChange: PropTypes.func.isRequired\r\n};\r\nGenres.displayName = \"Genres\";\r\n export default GenresHOC(Genres)\r\n","import React, { Component } from \"react\";\r\nimport SortBy from \"./SortBy\";\r\nimport PrimaryRealise from \"./PrimaryRealise\";\r\nimport FilterPaginatorHOC from '../HOC/FilterPaginatorHOC'\r\nimport Paginator from \"./Paginator\";\r\nimport Genres from \"./Genres/Genres\";\r\n\r\n\r\nconst FilterPaginator = FilterPaginatorHOC(Paginator);\r\n\r\nexport default class Filters extends Component {\r\n  render() {\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <SortBy />\r\n        <PrimaryRealise />\r\n        <Genres />\r\n        <FilterPaginator/>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex justify-content-center\">\r\n        <div className=\"lds-spinner\">\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLoader.propTypes = {};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as actions from \"../../actions/actions\";\r\nimport Loader from '../Loader'\r\n\r\nconst mapStateToProps = ({ movies }) => {\r\n  return {\r\n    movies: movies.data,\r\n    total_pages: movies.total_pages,\r\n    filters: movies.filters,\r\n    page: movies.page,\r\n    isFetching: movies.isFetching,\r\n    success: movies.success,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getMovies: actions.actionCreatorGetMovies,\r\n      changePage: actions.actionCreatorChangePage\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default Component =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class MoviesHOC extends React.PureComponent {\r\n      static propTypes = {\r\n        filters: PropTypes.object.isRequired,\r\n        getMovies: PropTypes.func.isRequired\r\n      };\r\n\r\n      componentDidMount() {\r\n        this.props.getMovies(this.props.filters, 1);\r\n      }\r\n\r\n      render() {\r\n        return this.props.isFetching ? (\r\n          <Loader/>\r\n        ) : (\r\n          <Component\r\n          {...this.props}\r\n          movies={this.props.movies}\r\n          success={this.props.success}\r\n          error={this.props.error} />\r\n        );\r\n      }\r\n    }\r\n  );\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass LikeIcon extends React.Component {\r\n    render() {\r\n    const { marked, changeMark } = this.props;\r\n    return (\r\n      <div onClick={changeMark}>\r\n        <FontAwesomeIcon icon={[marked ? \"fas\" : \"far\", \"heart\"]} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LikeIcon\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass WatchIcon extends React.Component {\r\n    render() {\r\n    const { marked, changeMark } = this.props;\r\n    return (\r\n      <div onClick={changeMark}>\r\n        <FontAwesomeIcon icon={[marked ? \"fas\" : \"far\", \"bookmark\"]} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WatchIcon\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\nimport _ from \"lodash\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  actionCreatorGetWatchlist,\r\n  actionCreatorGetFavorite\r\n} from \"../../actions/actionsAccount\";\r\nimport * as actions from \"../../actions/actions\";\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction findMovieInArr(id, arr) {\r\n  return arr.findIndex(movie => String(movie.id) === String(id)) !== -1;\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    user: store.authentication.user,\r\n    session_id: store.authentication.session_id,\r\n    isAuth: store.authentication.isAuth,\r\n    watchlist: store.account.watchlist,\r\n    favorite: store.account.favorite\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      toggleLoginForm: actions.actionCreatorToggleLoginForm,\r\n      getFavorite: actionCreatorGetFavorite,\r\n      getWatchlist: actionCreatorGetWatchlist\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default (Component, key) =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class MarkHOC extends React.Component {\r\n      constructor(props) {\r\n        super(props);\r\n        const initialState = key => {\r\n          switch (key) {\r\n            case \"favorite\":\r\n              return findMovieInArr(this.props.id, this.props.favorite);\r\n            case \"watchlist\":\r\n              return findMovieInArr(this.props.id, this.props.watchlist);\r\n            default:\r\n              return false;\r\n          }\r\n        };\r\n\r\n        this.state = {\r\n          marked: initialState(key)\r\n        };\r\n\r\n        this.changeMark = this.changeMark.bind(this);\r\n      }\r\n\r\n      static propTypes = {\r\n        id: PropTypes.any.isRequired\r\n      };\r\n\r\n      fetchMark() {\r\n        const { getFavorite, getWatchlist, session_id, user } = this.props;\r\n\r\n        const fetchFavoritesMark = () => {\r\n          const queryStringParams = {\r\n            session_id: this.props.session_id\r\n          };\r\n          const body = {\r\n            media_type: \"movie\",\r\n            media_id: this.props.id,\r\n            favorite: this.state.marked\r\n          };\r\n          CallApi.post(`/account/${this.props.id}/favorite`, {\r\n            params: queryStringParams,\r\n            body: body\r\n          }).then(() => {\r\n            getFavorite({ session_id, user_id: user.id });\r\n          });\r\n        };\r\n\r\n        const fetchWatchListMark = () => {\r\n          const queryStringParams = {\r\n            session_id: this.props.session_id\r\n          };\r\n          const body = {\r\n            media_type: \"movie\",\r\n            media_id: this.props.id,\r\n            watchlist: this.state.marked\r\n          };\r\n          CallApi.post(`/account/${this.props.id}/watchlist`, {\r\n            params: queryStringParams,\r\n            body: body\r\n          }).then(getWatchlist({ session_id, user_id: user.id }));\r\n        };\r\n\r\n        switch (key) {\r\n          default:\r\n            break;\r\n          case \"favorite\":\r\n            fetchFavoritesMark();\r\n\r\n            break;\r\n          case \"watchlist\":\r\n            fetchWatchListMark();\r\n            break;\r\n        }\r\n      }\r\n\r\n      changeMark() {\r\n        if (this.props.user) {\r\n          this.setState(\r\n            {\r\n              marked: !this.state.marked\r\n            },\r\n            this.fetchMark\r\n          );\r\n        } else {\r\n          this.props.toggleLoginForm();\r\n        }\r\n      }\r\n      componentDidUpdate(prevProps) {\r\n        let arr = [];\r\n        switch (key) {\r\n          case \"favorite\":\r\n            arr = this.props.favorite;\r\n            break;\r\n          case \"watchlist\":\r\n            arr = this.props.watchlist;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        if (\r\n          (this.props.isAuth &&\r\n            !_.isEqual(prevProps.favorite, this.props.favorite)) ||\r\n          (!_.isEqual(prevProps.watchlist, this.props.watchlist) &&\r\n            this.props.isAuth)\r\n        ) {\r\n          this.setState({\r\n            marked: findMovieInArr(this.props.id, arr)\r\n          });\r\n        }\r\n      }\r\n      render() {\r\n        const { marked } = this.state;\r\n        return <Component marked={marked} changeMark={this.changeMark} />;\r\n      }\r\n    }\r\n  );\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeIcon from \"./Markers/LikeIcon\";\r\nimport WatchIcon from \"./Markers/WatchIcon\";\r\nimport MarkHOC from \"../HOC/MarkHOC\";\r\nimport AppConsumerHOC from \"../HOC/AppConsumerHOC\";\r\n\r\n\r\n\r\n\r\nconst MovieLike = MarkHOC(LikeIcon, 'favorite');\r\nconst MovieToWatch = MarkHOC(WatchIcon, 'watchlist');\r\n\r\nclass MovieItem extends React.Component {\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n    return (\r\n      <div className=\"card\" style={{ width: \"100%\" }}>\r\n        <img\r\n          className=\"card-img-top card-img--height\"\r\n          src={`https://image.tmdb.org/t/p/w500${item.backdrop_path ||\r\n            item.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body shadow-sm\">\r\n          <Link to={`/movie/${item.id}`}>{item.title}</Link>\r\n          <div className=\"card-text\">\r\n            Рейтинг:\r\n            {item.vote_average}\r\n          </div>\r\n\r\n          <div className=\"movie-item__like float-right ml-2\">\r\n            <MovieToWatch id={item.id} />\r\n          </div>\r\n\r\n          <div className=\"movie-item__like float-right\">\r\n            <MovieLike id={item.id} />\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppConsumerHOC(MovieItem);\r\n","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default Component =>\r\n  class AppConsumerHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {context => (\r\n            <Component\r\n              {...this.props}\r\n              {...context}\r\n            />\r\n          )}\r\n        </AppContext.Consumer>\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport MovieItem from \"../MovieItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst MovieList = ({ movies = [], success, error, col = 'col-6' }) => {\r\n  return (\r\n    success && movies.length === 0 ? <h1>No Movies</h1> : <div className=\"row\">\r\n      {movies.map(movie => (\r\n        <div key={movie.id} className={`${col} mb-4`}>\r\n          <MovieItem\r\n            item={movie}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nMovieList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default MovieList;\r\n","import React from \"react\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesHOC from \"../../HOC/MoviesHOC\";\r\nimport MovieList from \"../../Movies/MoviesList/MoviesList\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as actions from \"../../../actions/actions\";\r\n\r\nconst MoviesContainer = MoviesHOC(MovieList);\r\n\r\nclass MoviesPage extends React.Component {\r\n  render() {\r\n    const { resetFilters } = this.props;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card\" style={{ width: \"100%\" }}>\r\n              <div className=\"card-body\">\r\n                <h3>Фильтры:</h3>\r\n                <div className=\"mb-4\">\r\n                  <button\r\n                    className=\"btn btn-light border\"\r\n                    onClick={resetFilters}\r\n                  >\r\n                    Очистить фильры\r\n                  </button>\r\n                </div>\r\n                <Filters />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesContainer />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      resetFilters: actions.actionCreatorResetFilters\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MoviesPage);\r\n","import React, { Component } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { actionCreatorToggleLoginForm } from \"../../../actions/actionsModals\";\r\nimport CallApi from \"../../../api/api\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport CircularProgressbar from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\n\r\nimport { Dropdown, DropdownToggle, DropdownMenu } from \"reactstrap\";\r\n\r\nconst circleDiagram = (rated) => (\r\n  <div className=\"rating-btn__circle\">\r\n    <CircularProgressbar\r\n      percentage={rated * 2 * 10}\r\n      text={`${rated * 2}`}\r\n      style={{path: {fill: '#3987e0'}, text: {fill: '#3987e0'}}}\r\n      initialAnimation={true}\r\n    />\r\n  </div>\r\n);\r\n\r\nclass RatingBtn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      dropdownRating: false,\r\n      rated: null,\r\n      hoverRating: null,\r\n      favorite: null,\r\n      watchlist: null\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    const { toggleLoginForm, isAuth } = this.props;\r\n    if (isAuth) {\r\n      this.setState(prevState => ({\r\n        dropdownRating: !prevState.dropdownRating,\r\n        rating: this.state.rated\r\n      }));\r\n    } else {\r\n      toggleLoginForm();\r\n    }\r\n  }\r\n\r\n  handleHover = index => {\r\n    this.setState({\r\n      hoverRating: index\r\n    });\r\n  };\r\n\r\n  onLeaveDropDown = () => {\r\n    this.setState({\r\n      hoverRating: this.state.rated\r\n    });\r\n  };\r\n\r\n  setRating = index => {\r\n    const {\r\n      session_id,\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n    this.setState(\r\n      {\r\n        rated: index\r\n      },\r\n      () => {\r\n        const queryStringParams = {\r\n          session_id\r\n        };\r\n        const body = {\r\n          value: index * 2\r\n        };\r\n        CallApi.post(`/movie/${id}/rating`, {\r\n          params: queryStringParams,\r\n          body\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  getAccountState() {\r\n    const {\r\n      session_id,\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n    const queryStringParam = {\r\n      session_id\r\n    };\r\n    CallApi.get(`/movie/${id}/account_states`, {\r\n      params: queryStringParam\r\n    }).then(data => {\r\n      this.setState({\r\n        rated: data.rated.value / 2,\r\n        hoverRating: data.rated.value / 2\r\n      });\r\n    });\r\n  }\r\n\r\n  createStars = () => {\r\n    let stars = [];\r\n    for (let i = 1; i < 6; i++) {\r\n      stars.push(\r\n        <div\r\n          className=\"rating-btn__star\"\r\n          onMouseEnter={() => this.handleHover(i)}\r\n          onClick={() => this.setRating(i)}\r\n          key={i}\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={[i <= this.state.hoverRating ? \"fas\" : \"far\", \"star\"]}\r\n            color={i <= this.state.rated ? \"black\" : \"gray\"}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAccountState();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownRating} toggle={this.toggle}>\r\n        <DropdownToggle className=\"rating-btn\" tag=\"div\">\r\n          <FontAwesomeIcon icon={[this.state.rated ? 'fas':'far', \"star\"]} />\r\n          {this.state.rated ? <div className=\"rating-btn__your-rating\">Ваш рейтинг : {circleDiagram(this.state.rated)}</div>: null}\r\n        </DropdownToggle>\r\n        <DropdownMenu\r\n          className=\"rating-btn__drop\"\r\n          onMouseLeave={() => this.onLeaveDropDown()}\r\n        >\r\n          <div className=\"rating-btn__inner\">{this.createStars()}</div>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nRatingBtn.propTypes = {};\r\n\r\nconst mapStateToProps = ({ authentication }) => {\r\n  return {\r\n    session_id: authentication.session_id,\r\n    isAuth: authentication.isAuth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      toggleLoginForm: actionCreatorToggleLoginForm\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(RatingBtn));\r\n","import React, { Component } from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass MovieImages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      backdrops: [],\r\n      posters: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n\r\n    CallApi.get(`/movie/${id}/images`).then(data => {\r\n      this.setState({\r\n        backdrops: data.backdrops,\r\n        posters: data.posters\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { backdrops, posters } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          {backdrops.map(item => (\r\n            <span>{item}</span>\r\n          ))}\r\n        </div>\r\n        <div>\r\n          {posters.map(item => (\r\n            <span>{item}</span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMovieImages.propTypes = {};\r\n\r\nexport default withRouter(MovieImages);\r\n","import React, { Component } from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\nimport MoviesList from \"../../Movies/MoviesList/MoviesList\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SimilarMoviesPaginatorHOC from \"../../HOC/SimilarMoviesPaginatorHOC\";\r\nimport Paginator from \"../../Filters/Paginator\";\r\nimport Loader from \"../../Loader\";\r\n\r\nconst SimilarMoviesPaginator = SimilarMoviesPaginatorHOC(Paginator);\r\n\r\nclass SimilarMovies extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movies: [],\r\n      total_pages: null,\r\n      total_results: null,\r\n      page: null,\r\n      isFetching: false\r\n    };\r\n  }\r\n\r\n  onChangePage = page => {\r\n    page =\r\n      page >= 0\r\n        ? page <= this.state.total_pages\r\n          ? page\r\n          : this.state.total_pages\r\n        : 0;\r\n    this.setState(\r\n      {\r\n        page\r\n      },\r\n      () => {\r\n        this.getMovies(page);\r\n      }\r\n    );\r\n  };\r\n\r\n  getMovies = (page = 1) => {\r\n    const {\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n    const queryStringParams = {\r\n      page\r\n    };\r\n    this.setState({\r\n      isFetching: true\r\n    });\r\n    CallApi.get(`/movie/${id}/similar`, {\r\n      params: queryStringParams\r\n    }).then(data => {\r\n      this.setState({\r\n        movies: data.results,\r\n        total_pages: data.total_pages,\r\n        total_results: data.total_results,\r\n        page: data.page,\r\n        isFetching: false\r\n      });\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  render() {\r\n    const { movies, isFetching, page, total_pages } = this.state;\r\n    return (\r\n      <div className=\"mt-4\">\r\n        <SimilarMoviesPaginator\r\n          onChangePage={this.onChangePage}\r\n          page={page}\r\n          total_pages={total_pages}\r\n          mode=\"inline\"\r\n        />\r\n        <div className=\"mt-4\">\r\n          {isFetching ? <Loader/> : movies.length ? <MoviesList movies={movies} col=\"col-4\" /> : <p className=\"text-center\">Нет похожих фильмов</p>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSimilarMovies.propTypes = {};\r\n\r\nexport default withRouter(SimilarMovies);\r\n","import React from \"react\";\r\n\r\nexport default Component =>\r\n  class SimilarMoviesPaginatorHOC extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        page: props.page,\r\n        total_pages: props.total_pages\r\n      }\r\n    }\r\n    render() {\r\n      return <Component {...this.props} />;\r\n    }\r\n  };","import React, { Component } from \"react\";\r\n\r\nclass MovieDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movies: []\r\n    };\r\n  }\r\n  render() {\r\n    const {movie} = this.props;\r\n    return (\r\n    <div className=\"mt-4\">\r\n      <table className=\"table\">\r\n        <tbody>\r\n        <tr>\r\n          <th scope=\"row\">Статус </th>\r\n          <td>{movie.status}</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Дата выхода</th>\r\n          <td>{movie.release_date}</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Продолжительность</th>\r\n          <td>{movie.runtime} минут</td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <th scope=\"row\">Язык оригинала</th>\r\n          <td>{movie.original_language}</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Страна</th>\r\n          <td>{movie.production_countries.map((item, index) => <span key={index}>{item.name}</span>)}</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Бюджет</th>\r\n          <td>{movie.budget}$</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Сборы</th>\r\n          <td>{movie.revenue}$</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Компания</th>\r\n          <td>\r\n          {movie.production_companies.map((company)=>(<div key={company.id}>\r\n            <span className=\"badge badge-info mr-4\">{company.name}</span>\r\n            {/*<img style={{width: '50px'}} src={`https://image.tmdb.org/t/p/w500${company.logo_path}`} alt=\"\"/>*/}\r\n          </div>))}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">Жанры</th>\r\n          <td>\r\n          {movie.genres.map((genre)=>(<div key={genre.id}>\r\n            <span className=\"badge badge-info mr-4\">{genre.name}</span>\r\n          </div>))}\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nMovieDetails.propTypes = {};\r\n\r\nexport default MovieDetails;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Gallery from \"react-grid-gallery\";\r\nimport CallApi from \"../../../api/api\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Loader from \"../../Loader\";\r\n\r\nclass ActorsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      actor_gallery: [],\r\n      isFetching: false\r\n    };\r\n  }\r\n\r\n  getActorsList = () => {\r\n    const {\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n    this.setState({\r\n      isFetching: true\r\n    });\r\n    CallApi.get(`/movie/${id}/credits`).then(data => {\r\n      const filteredActorsByImage = data.cast.filter(item => {\r\n        return item.profile_path;\r\n      });\r\n      this.setState({\r\n        actor_gallery: filteredActorsByImage.map(actor => ({\r\n          src: `https://image.tmdb.org/t/p/w500/${actor.profile_path}`,\r\n          thumbnail: `https://image.tmdb.org/t/p/w500/${actor.profile_path}`,\r\n          thumbnailWidth: 120,\r\n          thumbnailHeight: 180,\r\n          caption: actor.character,\r\n        })),\r\n        isFetching: false\r\n      });\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getActorsList();\r\n  }\r\n\r\n  render() {\r\n    const { actor_gallery, isFetching } = this.state;\r\n    return (\r\n      <div className=\"mt-4\">\r\n        {isFetching ? <Loader/> : actor_gallery.length ? <Gallery images={actor_gallery} enableImageSelection={false} /> : <p className=\"text-center\">Актеры не найдены</p>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nActorsList.propTypes = {\r\n  movie: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withRouter(ActorsList);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { NavLink, Route, Switch, withRouter } from \"react-router-dom\";\r\n// import {withRouter } from 'react-router'\r\n\r\nimport MovieImages from \"./MovieImages\";\r\nimport SimilarMovies from \"./SimilarMovies\";\r\nimport MovieDetails from \"./MovieDetails\";\r\nimport ActorsList from \"./ActorsList\";\r\n\r\nclass MovieTabs extends Component {\r\n  render() {\r\n    const {\r\n      movie,\r\n      match: { params: { id } }\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <ul className=\"nav nav-tabs\">\r\n          <li className=\"nav-item\">\r\n            <NavLink to={`/movie/${id}/details`} className=\"nav-link\">\r\n              Детали\r\n            </NavLink>\r\n          </li>\r\n          {/*<li className=\"nav-item\">*/}\r\n            {/*<NavLink to={`/movie/${id}/images`} className=\"nav-link\">*/}\r\n              {/*Изображения*/}\r\n            {/*</NavLink>*/}\r\n          {/*</li>*/}\r\n          <li className=\"nav-item\">\r\n            <NavLink to={`/movie/${id}/similar`} className=\"nav-link\">\r\n              Похожие фильмы\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li className=\"nav-item\">\r\n            <NavLink\r\n              to={`/movie/${id}/actors`}\r\n              className=\"nav-link\"\r\n              activeClassName=\"active\"\r\n            >\r\n              Актеры\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n        <div className=\"tab-content\">\r\n          <Switch>\r\n            <Route\r\n              path={`/movie/:id/images`}\r\n              component={() => (\r\n                <MovieImages />\r\n              )}\r\n            />\r\n            <Route\r\n              path={`/movie/:id/similar`}\r\n              component={() => <SimilarMovies />}\r\n            />\r\n            <Route\r\n              path={`/movie/:id/details`}\r\n              component={() => <MovieDetails movie={movie} />}\r\n            />\r\n            <Route\r\n              path={`/movie/:id/actors`}\r\n              component={() => (\r\n                <ActorsList movie={movie} />\r\n              )}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMovieTabs.propTypes = {\r\n  movie: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withRouter(MovieTabs);\r\n","import React from \"react\";\r\nimport Like from \"../../Movies/Markers/LikeIcon\";\r\nimport WatchIcon from \"../../Movies/Markers/WatchIcon\";\r\nimport CallApi from \"../../../api/api\";\r\nimport MarkHOC from \"../../HOC/MarkHOC\";\r\nimport RatingBtn from \"./RatingBtn\";\r\nimport MovieTabs from \"./MovieTabs\";\r\n\r\nconst MovieLike = MarkHOC(Like, \"favorite\");\r\nconst MovieToWatch = MarkHOC(WatchIcon, \"watchlist\");\r\n\r\nexport default class MoviePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movie: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`).then(data => {\r\n      this.setState({\r\n        movie: data\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { movie } = this.state;\r\n    const {\r\n      match: {\r\n        params: { id }\r\n      }\r\n    } = this.props;\r\n    return (\r\n      movie && (\r\n        <div className=\"container\">\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-4\">\r\n              <img\r\n                className=\"card-img-top card-img--height\"\r\n                src={`https://image.tmdb.org/t/p/w500${(movie &&\r\n                  movie.backdrop_path) ||\r\n                  (movie && movie.poster_path)}`}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"col-8\">\r\n              <h2 className=\"title mb-4\">{movie && movie.title}</h2>\r\n              <p className=\"mb-4\">{movie && movie.overview}</p>\r\n              <span>Рейтинг Пользователей: {movie.vote_average}</span>\r\n              <div>\r\n                <div className=\"movie-item__like float-right ml-2\">\r\n                  <MovieToWatch id={id} />\r\n                </div>\r\n                <div className=\"movie-item__like float-right\">\r\n                  <MovieLike id={id} />\r\n                </div>\r\n                <div className=\"movie-item__star\">\r\n                  <RatingBtn />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12\">\r\n              <MovieTabs\r\n                movie={movie}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport MoviesList from \"../../Movies/MoviesList/MoviesList\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreatorGetFavorite } from \"../../../actions/actionsAccount\";\r\n\r\nclass AccountFavoritesPage extends Component {\r\n  render() {\r\n    return this.props.isAuth ? (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <MoviesList movies={this.props.favorite} col={'col-4'} />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    );\r\n  }\r\n}\r\n\r\nAccountFavoritesPage.propTypes = {};\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isAuth: store.authentication.isAuth,\r\n    session_id: store.authentication.session_id,\r\n    user: store.authentication.user,\r\n    favorite: store.account.favorite\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getFavorites: actionCreatorGetFavorite\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountFavoritesPage);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport MoviesList from \"../../Movies/MoviesList/MoviesList\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { actionCreatorGetWatchlist } from \"../../../actions/actionsAccount\";\r\n\r\nclass AccountWatchlistPage extends Component {\r\n  render() {\r\n    return this.props.isAuth ? (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n            <MoviesList movies={this.props.watchlist} col={'col-4'}/>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <Redirect to=\"/\" />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isAuth: store.authentication.isAuth,\r\n    session_id: store.authentication.session_id,\r\n    user: store.authentication.user,\r\n    watchlist: store.account.watchlist\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getWatchlist: actionCreatorGetWatchlist\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AccountWatchlistPage);\r\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\r\n\r\nimport {\r\n  faHeart as fasFaHeart,\r\n  faBookmark as fasBookmark,\r\n  faStar as fasStar,\r\n  faStarHalfAlt as fasStarHalf,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  faHeart as farFaHeart,\r\n  faBookmark as farBookmark,\r\n  faStar as farStar,\r\n} from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nlibrary.add(fasFaHeart, farFaHeart, fasBookmark, farBookmark, fasStar, fasStarHalf, farStar);\r\n","import React from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport MoviesPage from \"./pages/MoviesPage/MoviesPage\";\r\nimport MoviePage from \"./pages/MoviePage/MoviePage\";\r\n\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport AccountFavoritesPage from \"./pages/AcountPage/AccountFavoritesPage\";\r\nimport AccountWatchlistPage from \"./pages/AcountPage/AccountWatchlistPage\";\r\n\r\nimport '../fortawesome/fortawesome'\r\n\r\n\r\nimport * as actions from \"../actions/actions\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    const { session_id, getAccount } = this.props;\r\n    if (session_id) {\r\n      getAccount({ session_id });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      user,\r\n      session_id,\r\n      isAuth,\r\n    } = this.props;\r\n    return (session_id && isAuth) || !session_id ? (\r\n      <BrowserRouter>\r\n        <div>\r\n          <Header user={user} />\r\n          <Route exact path=\"/\" component={MoviesPage} />\r\n          <Route path=\"/movie/:id\" component={MoviePage} />\r\n          <Route path=\"/account/favorites\" component={AccountFavoritesPage} />\r\n          <Route path=\"/account/watchlist\" component={AccountWatchlistPage} />\r\n        </div>\r\n      </BrowserRouter>\r\n    ) : (\r\n      <p>Loading...</p>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    session_id: store.authentication.session_id,\r\n    isAuth: store.authentication.isAuth,\r\n    user: store.authentication.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getAccount: actions.actionCreatorGetAccount\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import Cookies from \"universal-cookie\";\r\nimport * as constants from \"../constants/constants\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const initialState = {\r\n  user: null,\r\n  isAuth: false,\r\n  session_id: cookies.get(\"session_id\"),\r\n};\r\n\r\nconst reducerAuthentication = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case constants.UPDATE_AUTH:\r\n      cookies.set(\"session_id\", action.payload.session_id, {\r\n        path: \"/\",\r\n        maxAge: 2592000\r\n      });\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        session_id: action.payload.session_id,\r\n        isAuth: true,\r\n      };\r\n    case constants.LOG_OUT:\r\n      cookies.remove(\"session_id\");\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        session_id: null,\r\n        isAuth: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducerAuthentication;\r\n","import * as constants from \"../constants/constants\";\r\n\r\nconst initialFilters = {\r\n  filters: {\r\n    sort_by: \"popularity.desc\",\r\n    primary_release_year: \"0\",\r\n    with_genres: []\r\n  }\r\n};\r\n\r\nexport const initialMoviesState = {\r\n  ...initialFilters,\r\n  data: [],\r\n  page: null,\r\n  total_pages: null,\r\n  success: null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\n\r\nconst reducerMovies = (state = initialMoviesState, action) => {\r\n  switch (action.type) {\r\n    case constants.FETCHING_MOVIES:\r\n      return {\r\n        ...state,\r\n        isFetching: true\r\n      };\r\n    case constants.UPDATE_MOVIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.results,\r\n        page: action.payload.page,\r\n        total_pages: action.payload.total_pages,\r\n        isFetching: false,\r\n        success: true\r\n      };\r\n    case constants.CHANGE_PAGE:\r\n      return {\r\n        ...state,\r\n        page: action.payload\r\n      };\r\n    case constants.UPDATE_FILTERS:\r\n      return {\r\n        ...state,\r\n        filters: {\r\n          ...state.filters,\r\n          ...action.payload\r\n        }\r\n      };\r\n    case constants.RESET_FILTERS:\r\n      return { ...state, ...initialFilters };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducerMovies;\r\n","const initialState = {\r\n  showLoginForm: false\r\n};\r\n\r\nconst reducerModals = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case \"TOGGLE_LOGIN_FORM\":\r\n      return {\r\n        ...state,\r\n        showLoginForm: !state.showLoginForm\r\n      };\r\n    case \"HIDE_LOGIN_FORM\":\r\n      return {\r\n        ...state,\r\n        showLoginForm: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducerModals;\r\n","const initialState = {\r\n  favorite: [],\r\n  watchlist: []\r\n};\r\n\r\nconst reducerAccount = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"UPDATE_FAVORITE\":\r\n      return {\r\n        ...state,\r\n        favorite: action.payload\r\n      };\r\n    case \"UPDATE_WATCHLIST\":\r\n      return {\r\n        ...state,\r\n        watchlist: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducerAccount;\r\n","import reducerAuthentication from \"./reducerAuthentification\";\r\nimport reducerMovies from \"./reducersMovies\";\r\nimport { combineReducers } from \"redux\";\r\nimport reducerModals from \"./reducersModals\";\r\nimport reducerAccount from \"./reducerAccount\";\r\n\r\nconst reducers = combineReducers({\r\n  authentication: reducerAuthentication,\r\n  account: reducerAccount,\r\n  movies: reducerMovies,\r\n  modals: reducerModals\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport reducers from \"../reducers/reducers\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport * as constants from '../constants/constants'\r\n\r\nimport {\r\n  actionCreatorGetFavorite,\r\n  actionCreatorGetWatchlist\r\n} from \"../actions/actionsAccount\";\r\n\r\nimport { actionCreatorGetMovies } from \"../actions/actionsMovies\";\r\nimport { initialMoviesState }  from '../reducers/reducersMovies'\r\n\r\nconst async = ({ getState, dispatch }) => next => action => {\r\n  if (typeof action === \"function\") {\r\n    action(dispatch);\r\n  } else {\r\n    return next(action);\r\n  }\r\n};\r\n\r\nconst getAccountListsAfterUpdateAuth = ({ getState, dispatch }) => next => action => {\r\n  if (action.type === constants.UPDATE_AUTH) {\r\n    dispatch(\r\n      actionCreatorGetFavorite({\r\n        session_id: action.payload.session_id,\r\n        user_id: action.payload.user.id\r\n      })\r\n    );\r\n    dispatch(\r\n      actionCreatorGetWatchlist({\r\n        session_id: action.payload.session_id,\r\n        user_id: action.payload.user.id\r\n      })\r\n    );\r\n  }\r\n  return next(action);\r\n};\r\n\r\nconst getMoviesAfterChangingFilters = ({ getState, dispatch }) => next => action => {\r\n  if (action.type === constants.UPDATE_FILTERS) {\r\n    dispatch(\r\n      actionCreatorGetMovies({...getState().movies.filters, ...action.payload}, 1)\r\n    );\r\n  }\r\n\r\n  if (action.type === constants.CHANGE_PAGE) {\r\n    const pervStore = getState();\r\n    const prevFilters = pervStore.movies.filters;\r\n    const page = action.payload;\r\n    dispatch(\r\n      actionCreatorGetMovies(prevFilters, page)\r\n    );\r\n  }\r\n\r\n  if (action.type === constants.RESET_FILTERS) {\r\n    dispatch(\r\n      actionCreatorGetMovies(initialMoviesState.filters, 1)\r\n    );\r\n  }\r\n  return next(action);\r\n};\r\n\r\nconst appMiddleWare = [getAccountListsAfterUpdateAuth, getMoviesAfterChangingFilters];\r\n\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  {},\r\n  composeWithDevTools(applyMiddleware(async, ...appMiddleWare))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\nimport store from \"./store/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nwindow.store = store;\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}